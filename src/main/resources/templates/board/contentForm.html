<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>글 내용</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <form action="updateAction" method="post">
  
  
    <input type="hidden" name="noticeId" th:value="${dto.noticeId}">
    <div class="container mt-1">
      <h7 class="d-flex p-2 border-bottom text-primary mb-4">공지사항</h7>
    </div>
    <div class="container mt-1 border-bottom">
      <h5 class="mb-4" th:text="${dto.noticeTitle}"></h5>
      <p th:text="${dto.noticeContent}"></p>
    </div>
    <div class="container mt-1">
      <div class="d-flex justify-content-between">
        <div class="d-grid gap-2 d-md-block btn-primar">
        
        
         <!-- 이전 글 버ddd튼 -->
<a th:href="@{/contentForm(noticeId=${prevNoticeId})}" class="btn btn-outline-secondary" th:if="${prevNoticeId != null}">&lt; 이전글</a>
<button class="btn btn-outline-secondary" type="button" th:if="${prevNoticeId == null}" disabled>&lt; 이전글</button>

<!-- 다음 글 버튼 -->
<a th:href="@{/contentForm(noticeId=${nextNoticeId})}" class="btn btn-outline-secondary" th:if="${nextNoticeId != null}">다음글 &gt;</a>
<button class="btn btn-outline-secondary" type="button" th:if="${nextNoticeId == null}" disabled>다음글 &gt;</button>
        </div>
        <br>
        <div>
          <a th:href="@{updateForm(noticeId=${dto.noticeId})}"><button class="btn btn-secondary" type="button">수정하기</button></a>
          &nbsp;<a href="listForm"><button class="btn btn-secondary" type="button" value="목록보기">목록보기</button></a>
        </div>
      </div>
    </div>
  </form>
  <div class="container mt-3">
  
  
   
  
  <!-- 
  <form th:action="@{/writeReplyAction}" method="post">
    <input type="hidden" name="replyNoticeIndex" th:value="${dto.noticeId}">
    <input type="hidden" name="email" th:value="${session.email}"> <!-- 이메일 input 추가 -->
      <!--  
      <div class="container mt-3">
    <label for="exampleTextarea" class="form-label">댓글 작성</label>
    <div class="d-flex">
      <textarea class="form-control" name="replyContent" id="exampleTextarea" rows="1"></textarea>
      <button class="btn btn-primary my-2 my-sm-0" type="submit">작성</button>
    </div>
    <br>
<p th:text="'댓글 ' + ${replyCount} + '개'">댓글 0개</p>
</form>
  </div>
      -->

  



<form th:action="@{/writeReplyAction}" method="post">
  <input type="hidden" name="email" th:value="${session.email}">
  <input type="hidden" name="replyNoticeIndex" th:value="${dto.noticeId}">
  <div class="container mt-3">
    <label for="exampleTextarea" class="form-label">댓글 작성</label>
    <div class="d-flex">
      <textarea class="form-control" name="replyContent" id="exampleTextarea" rows="1"></textarea>
      <button class="btn btn-primary my-2 my-sm-0" type="submit">작성</button>
    </div>
  </div>
</form>

    
<div th:if="${not #lists.isEmpty(replyList)}">
    <div class="container" th:each="reply_dto : ${replyList}">
        <hr>
        <div class="form-group">
            <label for="content" th:text="'사용자 : ' + ${reply_dto.email}"></label>
            <span th:text="${#dates.format(reply_dto.replyDate, 'MM.dd HH:mm')}"></span><br><br>
            <label for="content" th:text="${reply_dto.replyContent}">댓글 내용: </label>
            <a th:href="@{/deleteReplyAction(replyId=${reply_dto.replyId}, noticeId=${dto.noticeId})}">
                <button type="submit" class="btn btn-primary btn-sm">댓글삭제</button>
            </a>
        </div>
    </div>
</div>
  </div>
  </div>
      
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


  